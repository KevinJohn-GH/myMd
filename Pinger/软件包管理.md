## 1、软件包分类

### 1.1 软件包分类

- 源码包

  脚本安装包，可以看到源码

- 二进制包（RPM包、系统默认包）

  安装速度快，简化操作

### 1.2 源码包

优点：

- 开源，如果有足够能力，可以修改源代码
- 可以自由选择所需的功能
- 软件是编译安装，所以更加适合自己的系统，更加稳定也效率更高
- 卸载方便

缺点

- 安装过程步骤过多，尤其安装较大软件集合时（如LAMP环境搭建），容易出现拼写错误
- 编译过程时间较长，安装比二进制安装时间长
- 因为是编译安装，安装过程一旦报错新手很难解决

### 1.3 RPM包

二进制包的优点

- 包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载
- 安装速度比源码包安装快得多 

二进制包缺点：

- 经过编译，不可以看到源代码
- 功能性选择不如源代码灵活
- 依赖性



## 2、RPM命令管理

#### 2.1 rpm命令安装包名与包依赖性

##### 安装包名

> http-2.2.15-15.el6.centos.1.i686.rmp

- httpd	软件包名
- 2.2.15     软件版本
- 15            软件发布的次数
- el6.centod   适合的linux平台
- i686    适合的硬件平台
- rpm    rpm包扩展名

##### RPM包依赖性

- 树形依赖：a->b->c
- 环形依赖：a->b->c->a
- 模块依赖：http://rpmfind.net/

yum命令在线管理

#### 2.2 rpm命令管理-安装升级与卸载

##### 1、包全名与包名

报全名：操作的包是没有安装的软件包时。使用包全名。而且要注意路径

包名：操作已经安装的软件包时，使用包名。是搜索/var/lin/rpm/中的数据库

##### 2、RPM安装

``rpm -ivh 包全名``

选项：

- -i （install）	安装
- -v （verbose） 显示详细信息
- -h（hash） 显示进度
- --nodeps 不检测依赖性

##### 3、RPM包升级

``rpm-Uvh 包全名 ``

选项：

- -U （upgrade） 升级

##### 4、卸载

``rpm -e 包名``

选项：

- -e （erase） 卸载
- --nodeps 不检查依赖性

#### 2.3 rpm命令管理-查询

##### 1、查询是否安装

``rpm -q 包名``

选项：

- -q 查询（query）
- -a 所有（all）
- -i 查询软件信息（information）
- -p 查询未安装包信息（package）
- -l 列表（list）
- -f  系统文件名 查询系统文件属于那个软件包（file）
- -R 查询软件包的依赖性（requires）
- -p 查询未安装包信息（package）

#### 2.3 rpm命令管理-校验和文件提取

选项：

- V 校验指定RPM包中的文件（verify） 和原始状态比较的校验

内容：

- S 文件大小是否改变
- M  文件的类型或文件的权限（rwx）是否被改变
- 5 文件MD5校验和是否改变（可以看成文件内容是否改变）
- D 设备的中、从代码是否改变
- L 文件路径是否改变
- U 文件的属主是否改变
- G 文件的属组是否改变
- T  文件的修改时间是否改变

文件类型

- c 配置文件（config file）
- d普通文档（documentation）
- g “鬼”文件（ghost），很少见，就是该文件不应该被这个RPM包包含
- I 授权文件（license file） 
- r 描述文件（read me）

**rpm中文件提取** （用于修复）

```
rpm2cpio 包全名 | \ 
cpio -idv . 文件绝对路径
```

> rpm2cpio #将rpm包转换为cpio格式的命令
>
> cpio #是一个标准工具，它用于创建软件档案文件和从档案文件中提取文件

``cpio 选项<[文件|设备]``

选项：

- -i： copy-in模式，还原
- -d：还原时自动创建新目录
- -v：显示还原过程


示例：

```
  rpm -qf /bin/ls
  #查询ls命令属于哪个软件包
  mv /bin/ls /tmp/
  #造成ls命令误删除假象
  rpm2cpio /mnt/cdrom/PacKages/coreutils-8.4-19.el6.i686.rpm | cpio -idv . /bin/ls
  cp /root/bin/ls /bin/
```


#### 3.1 yum在线管理-IP地址配置和网络yum源

